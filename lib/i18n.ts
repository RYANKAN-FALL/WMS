type Lang = "id" | "en";

const dict: Record<Lang, Record<string, string>> = {
  id: {
    reportsTitle: "Laporan",
    reportsSubtitle: "Lihat laporan harian, mingguan, dan bulanan untuk bisnis Anda",
    stockMovement: "Laporan Stok Masuk/Keluar",
    stockMovementDesc: "Pergerakan stok harian",
    monthlySales: "Laporan Penjualan Bulanan",
    monthlySalesDesc: "Penjualan per bulan",
    bestSellers: "Produk Terlaris",
    bestSellersDesc: "Produk paling banyak terjual",
    orders: "Laporan Order",
    ordersDesc: "Total order terbaru",
    lowStock: "Laporan Stok Rendah",
    lowStockDesc: "Produk perlu diisi",
    profitLoss: "Laporan Laba/Rugi",
    profitLossDesc: "Analisis keuangan",
    recentOrders: "Order Terbaru",
    noOrders: "Tidak ada order terbaru",
    search: "Cari",
    addProduct: "Tambah Produk",
    products: "Produk",
    category: "Kategori",
    rack: "Rak",
    stock: "Stok",
    unit: "Satuan",
    price: "Harga",
    status: "Status",
    actions: "Aksi",
    lowStockStatus: "Stok Rendah",
    warningStatus: "Waspada",
    safeStatus: "Aman",
    addOrder: "Buat Order Baru",
    ordersList: "Daftar Order",
    customers: "Nama Customer",
    date: "Tanggal",
    downloadCsv: "Download CSV",
    noData: "Belum ada data",
    notification: "Notifikasi",
    preference: "Preferensi",
    security: "Keamanan",
    integration: "Integrasi",
    profile: "Profil",
    language: "Bahasa",
    currency: "Mata Uang",
    theme: "Tema",
    email: "Email",
    sms: "SMS",
    push: "Push",
    webhook: "Webhook URL",
    apiKey: "API Key",
    save: "Simpan",
    applyTheme: "Terapkan Tema",
    twoFactor: "Verifikasi Dua Langkah",
    loginAlert: "Notifikasi Login",
    name: "Nama Produk",
    sku: "SKU",
    qty: "Jumlah",
    subtotal: "Subtotal",
    totalEstimation: "Total Estimasi",
    addItem: "Tambah Item",
    cancel: "Batal",
    saveOrder: "Simpan Order",
    stockMovementPageTitle: "Laporan Stok Masuk/Keluar Harian",
    stockMovementPageSubtitle: "Detail pergerakan stok per hari",
    lowStockPageTitle: "Laporan Stok Rendah",
    lowStockPageSubtitle: "Produk dengan stok di bawah atau sama dengan minimum",
    lowStockRestock: "Butuh restock",
    bestSellersPageTitle: "Produk Terlaris (3 Bulan)",
    bestSellersPageSubtitle: "Top penjualan berdasarkan kuantitas",
    monthlySalesPageTitle: "Laporan Penjualan Bulanan",
    monthlySalesPageSubtitle: "Ringkasan omzet dan jumlah order per bulan",
    ordersReportTitle: "Laporan Order",
    ordersReportSubtitle: "50 order terbaru dengan status",
    profitLossTitle: "Laporan Laba/Rugi",
    profitLossSubtitle: "Ringkasan omzet (biaya belum dimodelkan)",
  },
  en: {
    reportsTitle: "Reports",
    reportsSubtitle: "View daily, weekly, and monthly insights for your business",
    stockMovement: "Stock In/Out Report",
    stockMovementDesc: "Daily stock movement",
    monthlySales: "Monthly Sales Report",
    monthlySalesDesc: "Sales by month",
    bestSellers: "Best Sellers",
    bestSellersDesc: "Top selling products",
    orders: "Orders Report",
    ordersDesc: "Latest orders total",
    lowStock: "Low Stock Report",
    lowStockDesc: "Products to restock",
    profitLoss: "Profit/Loss Report",
    profitLossDesc: "Financial analysis",
    recentOrders: "Latest Orders",
    noOrders: "No recent orders",
    search: "Search",
    addProduct: "Add Product",
    products: "Products",
    category: "Category",
    rack: "Rack",
    stock: "Stock",
    unit: "Unit",
    price: "Price",
    status: "Status",
    actions: "Actions",
    lowStockStatus: "Low Stock",
    warningStatus: "Warning",
    safeStatus: "Safe",
    addOrder: "Create Order",
    ordersList: "Orders List",
    customers: "Customer Name",
    date: "Date",
    downloadCsv: "Download CSV",
    noData: "No data yet",
    notification: "Notifications",
    preference: "Preference",
    security: "Security",
    integration: "Integration",
    profile: "Profile",
    language: "Language",
    currency: "Currency",
    theme: "Theme",
    email: "Email",
    sms: "SMS",
    push: "Push",
    webhook: "Webhook URL",
    apiKey: "API Key",
    save: "Save",
    applyTheme: "Apply Theme",
    twoFactor: "Two-Factor Authentication",
    loginAlert: "Login Alerts",
    name: "Product Name",
    sku: "SKU",
    qty: "Quantity",
    subtotal: "Subtotal",
    totalEstimation: "Estimated Total",
    addItem: "Add Item",
    cancel: "Cancel",
    saveOrder: "Save Order",
    stockMovementPageTitle: "Daily Stock Movement",
    stockMovementPageSubtitle: "Stock movement detail per day",
    lowStockPageTitle: "Low Stock Report",
    lowStockPageSubtitle: "Products at or below minimum stock",
    lowStockRestock: "Needs restock",
    bestSellersPageTitle: "Best Sellers (3 Months)",
    bestSellersPageSubtitle: "Top sales by quantity",
    monthlySalesPageTitle: "Monthly Sales Report",
    monthlySalesPageSubtitle: "Revenue and order count per month",
    ordersReportTitle: "Orders Report",
    ordersReportSubtitle: "Latest 50 orders with status",
    profitLossTitle: "Profit/Loss Report",
    profitLossSubtitle: "Revenue summary (cost not modeled yet)",
  },
};

export function t(lang: string | undefined, key: keyof typeof dict["id"]) {
  const code = (lang === "en" ? "en" : "id") as Lang;
  return dict[code][key] || dict.id[key] || key;
}

export function getClientLang() {
  if (typeof document !== "undefined") {
    return document.documentElement.lang || "id";
  }
  return "id";
}

export function tn(lang: string | undefined, idText: string, enText: string) {
  return (lang === "en" ? enText : idText);
}

export function getCurrencyFormatter(lang: string | undefined, currency: string) {
  const locale = lang === "en" ? "en-US" : "id-ID";
  return new Intl.NumberFormat(locale, {
    style: "currency",
    currency,
    maximumFractionDigits: 0,
  });
}

export function getDateFormatter(lang: string | undefined) {
  const locale = lang === "en" ? "en-US" : "id-ID";
  return new Intl.DateTimeFormat(locale, {
    day: "2-digit",
    month: "short",
    year: "numeric",
    timeZone: "UTC",
  });
}
